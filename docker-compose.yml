services:
  katulong:
    build: .
    env_file:
      - path: .env.local
        required: false
    ports:
      - "${PORT:-3001}:3001"
      - "${SSH_PORT:-2222}:2222"
    volumes:
      - katulong-data:/data
    environment:
      - KATULONG_DATA_DIR=/data
    restart: unless-stopped
    deploy:
      resources:
        limits:
          memory: 512m
          pids: 200

volumes:
  katulong-data:
